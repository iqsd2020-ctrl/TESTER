export const topicsData = {
    "المعصومون (عليهم السلام)": ["سيرة النبي محمد (ص)", "سيرة الإمام علي (ع)", "السيدة فاطمة الزهراء (ع)", "سيرة الإمام الحسن المجتبى (ع)", "سيرة الإمام الحسين (ع)", "سيرة الإمام السجاد (ع)", "سيرة الإمام الباقر (ع)", "سيرة الإمام الصادق (ع)", "سيرة الإمام الكاظم (ع)", "سيرة الإمام الرضا (ع)", "سيرة الإمام الجواد (ع)", "سيرة الإمام الهادي (ع)", "سيرة الإمام العسكري (ع)", "الإمام المهدي (عج)"],
    "الأنبياء والرسل": ["قصص آدم وحواء وأولادهما", "في قصص إدريس (عليه السلام)", "قصص النبي نوح (ع)", "النبي هود (عليه السلام) وقومه عاد", "النبي صالح (عليه السلام) وقومه ثمود", "النبي إبراهيم (عليه السلام)", "النبي لوط (عليه السلام) وقومه", "سيرة ذي القرنين (ع)", "سيرة النبي يعقوب ويوسف (عليهما السلام)", "سيرة النبي شعيب (عليه السلام)", "سيرة النبي أيوب (ع)", "موسى وهارون (عليهما السلام)", "النبي داود (عليه السلام)", "لقمان الحكيم", "النبي سليمان (عليه السلام)", "النبي زكريا ويحيى (عليهما السلام)", "النبي عيسى وأمه (عليهما السلام)", "النبي يونس (عليه السلام)", "قصة أصحاب الكهف والرقيم", "في أخبار بني إسرائيل وأحوال بعض الملوك", "قصة قوم سبأ (سيل العرم)", "قصص أرميا ودانيال وعزير وبختنصر", "أصحاب الأخدود وجرجيس وخالد بن سنان", "أصحاب الرس وحنظلة النبي", "قصة شعيا وحبقوق", "متفرقات"],
    "شخصيات (أصحاب وعلماء ونساء)": ["السيدة خديجة الكبرى (ع)", "السيدة زينب (ع)", "السيدة أم البنين (ع)", "أبو الفضل العباس (ع)", "علي الأكبر (ع)", "القاسم بن الحسن (ع)", "سلمان المحمدي", "أبو ذر الغفاري", "السيد محمد الصدر", "السيد محمد باقر الصدر", "السيد مقتدى الصدر", "المقداد بن الأسود", "عمار بن ياسر", "مالك الأشتر", "مسلم بن عقيل (ع)", "المختار الثقفي", "حبيب بن مظاهر الأسدي", "ميثم التمار", "كميل بن زياد", "الخواجة نصير الدين الطوسي", "الشيخ المفيد", "الشيخ الطوسي"],
    "القرآن ونهج البلاغة": ["معاني مفردات القرآن", "أسباب النزول", "الناسخ والمنسوخ", "الأمثال في القرآن", "الخطبة الشقشقية", "خطبة المتقين", "عهد الإمام لمالك الأشتر", "حكم ومواعظ نهج البلاغة", "الصحيفة السجادية"],
    "عقائد وفقه": ["أصول الدين", "التوحيد وصفات الله", "العدل الإلهي", "النبوة", "الإمامة والولاية", "عالم البرزخ", "المعاد ويوم القيامة", "الشفاعة", "الرجعة", "البداء", "فروع الدين", "أحكام الصلاة", "أحكام الصوم", "أحكام الخمس", "أحكام الحج والعمرة", "الأمر بالمعروف والنهي عن المنكر", "الطهارة والنجاسات"],
    "الثقافة المهدوية": ["علامات الظهور", "السفراء الأربعة", "الغيبة الصغرى", "الغيبة الكبرى", "وظائف المنتظرين", "أصحاب الإمام المهدي", "دولة العدل الإلهي"],
    "تاريخ ومعارك": ["الهجرة النبوية", "معركة بدر الكبرى", "معركة أحد", "معركة الخندق (الأحزاب)", "معركة خيبر", "فتح مكة", "معركة حنين", "حروب الردة", "حرب الجمل", "معركة صفين", "معركة النهروان", "صلح الإمام الحسن (ع)", "واقعة كربلاء", "يوم المباهلة", "عيد الغدير الأغر", "حديث الكساء (الحدث)", "فاجعة هدم البقيع"],
    "أدعية وزيارات": ["دعاء كميل", "دعاء الصباح", "دعاء التوسل", "دعاء العهد", "دعاء الندبة", "دعاء الافتتاح", "دعاء أبي حمزة الثمالي", "دعاء عرفة", "المناجاة الشعبانية", "زيارة عاشوراء", "زيارة الأربعين", "الزيارة الجامعة الكبيرة", "دعاء اهل الثغور", "زيارة آل يس", "زيارة أمين الله"]
};

export const infallibles = [
    { name: "النبي محمد", topic: "سيرة النبي محمد (ص)", id: "prophet_muhammad" },
    { name: "الإمام علي", topic: "سيرة الإمام علي (ع)", id: "imam_ali" },
    { name: "السيدة فاطمة الزهراء", topic: "السيدة فاطمة الزهراء (ع)", id: "fatima_zahra" },
    { name: "الإمام الحسن المجتبى", topic: "سيرة الإمام الحسن المجتبى (ع)", id: "imam_hasan" },
    { name: "الإمام الحسين", topic: "سيرة الإمام الحسين (ع)", id: "imam_hussein" },
    { name: "الإمام السجاد", topic: "سيرة الإمام السجاد (ع)", id: "imam_sajjad" },
    { name: "الإمام الباقر", topic: "سيرة الإمام الباقر (ع)", id: "imam_baqir" },
    { name: "الإمام الصادق", topic: "سيرة الإمام الصادق (ع)", id: "imam_sadiq" },
    { name: "الإمام الكاظم", topic: "سيرة الإمام الكاظم (ع)", id: "imam_kadhim" },
    { name: "الإمام الرضا", topic: "سيرة الإمام الرضا (ع)", id: "imam_ridha" },
    { name: "الإمام الجواد", topic: "سيرة الإمام الجواد (ع)", id: "imam_jawad" },
    { name: "الإمام الهادي", topic: "سيرة الإمام الهادي (ع)", id: "imam_hadi" },
    { name: "الإمام العسكري", topic: "سيرة الإمام العسكري (ع)", id: "imam_askari" },
    { name: "الإمام المهدي", topic: "الإمام المهدي (عج)", id: "imam_mahdi" }
];

// --- إعدادات المستويات والجوائز ---
export let badgesData = [];

// ==========================================
// 1. أوسمة المعصومين (14 معصوم * 3 مستويات = 42 رتبة)
// ==========================================
infallibles.forEach(p => {
    badgesData.push({
        id: `lover_${p.id}`, 
        name: `عاشق ${p.name.split(' ')[1] || p.name}`,
        icon: 'favorite', 
        type: 'topic', 
        topicKey: p.topic,
        levels: [
            { id: 1, label: 'محب (برونزي)', target: 20, color: 'bronze', rewards: { score: 250, lives: 1 } },
            { id: 2, label: 'موالي (فضي)', target: 60, color: 'silver', rewards: { score: 1000, hint: 3 } },
            { id: 3, label: 'عاشق (ذهبي)', target: 150, color: 'gold', rewards: { score: 5000, lives: 5, fifty: 5 } }
        ],
        desc: `أثبت مودتك لـ ${p.name} عبر الإجابة الصحيحة على الأسئلة المتعلقة بسيرته.`
    });
});

// ==========================================
// 2. أوسمة التخصصات (8 أقسام * 3 مستويات = 24 رتبة)
// ==========================================
const topicBadges = [
    { id: 'prophets', name: 'وريث الأنبياء', key: 'الأنبياء والرسل', icon: 'history_edu' },
    { id: 'quran', name: 'حليف القرآن', key: 'القرآن ونهج البلاغة', icon: 'menu_book' },
    { id: 'history', name: 'المؤرخ الأمين', key: 'تاريخ ومعارك', icon: 'flag_circle' },
    { id: 'fiqh', name: 'الفقيه', key: 'عقائد وفقه', icon: 'balance' },
    { id: 'mahdi', name: 'المنتظر', key: 'الثقافة المهدوية', icon: 'hourglass_top' },
    { id: 'dua', name: 'الذاكر', key: 'أدعية وزيارات', icon: 'volunteer_activism' },
    { id: 'companions', name: 'ناصر العترة', key: 'شخصيات (أصحاب وعلماء ونساء)', icon: 'diversity_3' }
];

topicBadges.forEach(t => {
    badgesData.push({
        id: `spec_${t.id}`, 
        name: t.name, 
        icon: t.icon, 
        type: 'topic', 
        topicKey: t.key,
        levels: [
            { id: 1, label: 'مستوى 1', target: 30, color: 'bronze', rewards: { score: 300 } },
            { id: 2, label: 'مستوى 2', target: 100, color: 'silver', rewards: { score: 1500, fifty: 2 } },
            { id: 3, label: 'مستوى 3', target: 300, color: 'gold', rewards: { score: 6000, lives: 5 } }
        ],
        desc: `تخصص في قسم ${t.key} وأجب على الأسئلة ببراعة.`
    });
});

// ==========================================
// 3. أوسمة الإتقان والمهارة (Gameplay)
// ==========================================

// الثبات (Streak)
badgesData.push({
    id: 'streak_master', name: 'الثبات', icon: 'timeline', type: 'streak',
    desc: 'حقق سلسلة إجابات صحيحة متتالية دون أي خطأ.',
    levels: [
        { id: 1, target: 5, color: 'bronze', rewards: { score: 150 } },
        { id: 2, target: 15, color: 'silver', rewards: { score: 800, hint: 2 } },
        { id: 3, target: 40, color: 'gold', rewards: { score: 5000, lives: 3 } } // تحدي صعب جداً
    ]
});

// السرعة (Speed)
badgesData.push({
    id: 'speed_master', name: 'البرق الخاطف', icon: 'bolt', type: 'counter', statKey: 'fastAnswerCount',
    desc: 'أجب بسرعة فائقة (أقل من 5 ثوانٍ) على الأسئلة.',
    levels: [
        { id: 1, target: 10, color: 'bronze', rewards: { score: 200 } },
        { id: 2, target: 50, color: 'silver', rewards: { score: 1000, skip: 2 } },
        { id: 3, target: 200, color: 'gold', rewards: { score: 4000, skip: 10 } }
    ]
});

// الدقة (Accuracy - Perfect Rounds)
badgesData.push({
    id: 'perfectionist', name: 'البصيرة', icon: 'target', type: 'counter', statKey: 'perfectRounds',
    desc: 'أكمل جولات كاملة (10/10) دون أي خطأ.',
    levels: [
        { id: 1, target: 1, color: 'bronze', rewards: { score: 500 } },
        { id: 2, target: 10, color: 'silver', rewards: { score: 2000, lives: 2 } },
        { id: 3, target: 50, color: 'gold', rewards: { score: 10000, lives: 10 } }
    ]
});

// ==========================================
// 4. أوسمة النشاط والوقت (Engagement)
// ==========================================

// قيام الليل (اللعب بعد منتصف الليل)
badgesData.push({
    id: 'night_owl', name: 'أنيس الليل', icon: 'bedtime', type: 'counter', statKey: 'nightPlayCount',
    desc: 'اللعب في أوقات السحر والهدوء (بعد منتصف الليل).',
    levels: [
        { id: 1, target: 5, color: 'bronze', rewards: { score: 300 } },
        { id: 2, target: 20, color: 'silver', rewards: { score: 1000 } },
        { id: 3, target: 50, color: 'gold', rewards: { score: 3000, hint: 5 } }
    ]
});

// البكور (اللعب صباحاً)
badgesData.push({
    id: 'early_bird', name: 'وسام البكور', icon: 'wb_twilight', type: 'counter', statKey: 'morningPlayCount',
    desc: 'اللعب في الصباح الباكر (بورك لأمتي في بكورها).',
    levels: [
        { id: 1, target: 5, color: 'bronze', rewards: { score: 300 } },
        { id: 2, target: 20, color: 'silver', rewards: { score: 1000 } },
        { id: 3, target: 50, color: 'gold', rewards: { score: 3000, hint: 5 } }
    ]
});

// جمعة مباركة (اللعب يوم الجمعة)
badgesData.push({
    id: 'friday_lover', name: 'جمعة الانتظار', icon: 'calendar_month', type: 'counter', statKey: 'fridayPlayCount',
    desc: 'تسجيل الدخول ولعب جولة في يوم الجمعة المبارك.',
    levels: [
        { id: 1, target: 1, color: 'bronze', rewards: { score: 500 } },
        { id: 2, target: 10, color: 'silver', rewards: { score: 2000, lives: 2 } },
        { id: 3, target: 40, color: 'gold', rewards: { score: 5000, lives: 5 } } // مواظبة سنة تقريباً
    ]
});

// ==========================================
// 5. أوسمة المتجر والمشاركة (Social & Shop)
// ==========================================

// الشراء (Spender)
badgesData.push({
    id: 'generous_buyer', name: 'الكريم', icon: 'shopping_cart', type: 'counter', statKey: 'itemsBought',
    desc: 'شراء عناصر ومساعدات من المتجر.',
    levels: [
        { id: 1, target: 5, color: 'bronze', rewards: { score: 200 } },
        { id: 2, target: 20, color: 'silver', rewards: { score: 1000 } },
        { id: 3, target: 100, color: 'gold', rewards: { score: 5000 } } // استرجاع نقدي ضخم
    ]
});

// المشاركة (Share)
badgesData.push({
    id: 'social_star', name: 'الدال على الخير', icon: 'share', type: 'counter', statKey: 'shareCount',
    desc: 'مشاركة نتائجك أو التطبيق مع الآخرين.',
    levels: [
        { id: 1, target: 3, color: 'bronze', rewards: { score: 300 } },
        { id: 2, target: 10, color: 'silver', rewards: { score: 1500, hint: 3 } },
        { id: 3, target: 50, color: 'gold', rewards: { score: 5000, lives: 5 } }
    ]
});

// القراءة (Enrichment)
badgesData.push({
    id: 'knowledge_seeker', name: 'المُتبحّر', icon: 'tips_and_updates', type: 'counter', statKey: 'enrichmentCount',
    desc: 'قراءة المعلومات الإثرائية (المصباح) للاستزادة من العلم.',
    levels: [
        { id: 1, target: 10, color: 'bronze', rewards: { score: 500 } },
        { id: 2, target: 50, color: 'silver', rewards: { score: 2000, skip: 3 } },
        { id: 3, target: 200, color: 'gold', rewards: { score: 8000, skip: 10 } }
    ]
});

// ==========================================
// 6. أوسمة الرتب والمثابرة (Total Score & Plays)
// ==========================================

// عدد الجولات (Veteran)
badgesData.push({
    id: 'veteran_player', name: 'المحارب القديم', icon: 'swords', type: 'counter', statKey: 'quizzesPlayed',
    desc: 'لعب عدد كبير من الجولات والمسابقات.',
    levels: [
        { id: 1, target: 10, color: 'bronze', rewards: { score: 200 } },
        { id: 2, target: 100, color: 'silver', rewards: { score: 2000, lives: 3 } },
        { id: 3, target: 500, color: 'gold', rewards: { score: 10000, lives: 10 } }
    ]
});

// الرتب العلمية (Total Score)
badgesData.push({
    id: 'rank_master', name: 'العالم الرباني', icon: 'workspace_premium', type: 'score',
    desc: 'اجمع النقاط لتصل إلى أعلى المراتب العلمية.',
    levels: [
        { id: 1, target: 1000, color: 'bronze', rewards: { score: 100, lives: 1 } },
        { id: 2, target: 20000, color: 'silver', rewards: { score: 2000, lives: 5 } },
        { id: 3, target: 100000, color: 'gold', rewards: { score: 20000, lives: 20 } } // رقم صعب جداً
    ]
});

// تصدير الخريطة
export const badgesMap = badgesData.reduce((acc, badge) => {
    acc[badge.id] = badge;
    return acc;
}, {});